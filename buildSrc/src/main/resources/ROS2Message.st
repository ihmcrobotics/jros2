/*
 * This class was automatically generated by jros2
 */
package <context.javaPackageName>;

import us.ihmc.fastddsjava.cdr.CDRBuffer;
import us.ihmc.fastddsjava.cdr.idl.*;
import us.ihmc.jros2.ROS2Message;

<!
Template for generating ROS2Message types

Template inputs:
   context: us.ihmc.jros2.generator.context.MsgContext

Template syntax: https://github.com/antlr/stringtemplate4/blob/master/doc/cheatsheet.md
!>
<if(context.headerComment)>/**
   <context.headerComment>
*/
<endif>
public class <context.name> implements ROS2Message\<<context.name>>
{
   public static final String name = "<context.packageName>::msg::dds_::<context.name>_";

   <context.fields:{ field |
<if(field.headerComment)>/**
   <field.headerComment>
*/
<endif>
private <field.javaType><if(field.array&&field.fixedSize)>[]<endif> <field.name>_;
   }>
   public <context.name>()
   {
      <context.fields:{ field |
      <if(field.array)>
<field.name>_ = new <field.javaType><if(field.fixedSize)>[<field.length>]<else>()<endif>;
      <endif>
      }>
   }

   <context.fields: { field |
public <field.javaType><if(field.array&&field.fixedSize)>[]<endif> get<field.name>()
{
   return <field.name>_;
\}

<if(field.builtinType&&!field.array)>
public void set<field.name>(<field.javaType> <field.name>_)
{
   this.<field.name>_ = <field.name>_;
\}
<endif>

   }>
   @Override
   public int calculateSizeBytes(int currentAlignment)
   {
      int initialAlignment = currentAlignment;

      <context.fields:{ field |
      <if(field.builtinType)>
      <if(field.array&&field.fixedSize)>
currentAlignment += (<field.length> * <field.builtinTypeSize>) + CDRBuffer.alignment(currentAlignment, (<field.length> * <field.builtinTypeSize>)); // <field.name>_
      <elseif(field.array&&!field.fixedSize)>
currentAlignment += <field.name>_.calculateSizeBytes(currentAlignment);
      <elseif(!field.array)>
currentAlignment += <field.builtinTypeSize> + CDRBuffer.alignment(currentAlignment, <field.builtinTypeSize>); // <field.name>_
      <endif>
      <endif>
      }>
      return currentAlignment - initialAlignment;
   }

   @Override
   public void serialize(CDRBuffer buffer)
   {
      <context.fields:{ field |
      <if(field.builtinType)>
      <if(field.array&&field.fixedSize)>
<! TODO: direct array to buffer copy instead of iterating !>
for (int i = 0; i \< <field.name>_.length; ++i)
{
   buffer.<field.builtinCDRBufferWriteMethod>(<field.name>_[i]);
\}
      <elseif(field.array&&!field.fixedSize)>
<field.name>_.serialize(buffer);
      <elseif(!field.array)>
buffer.<field.builtinCDRBufferWriteMethod>(<field.name>_);
      <endif>
      <endif>
      }>
   }

   @Override
   public void deserialize(CDRBuffer buffer)
   {
      <context.fields:{ field |
      <if(field.builtinType)>
      <if(field.array&&field.fixedSize)>
<! TODO: direct buffer to array copy instead of iterating !>
for (int i = 0; i \< <field.name>_.length; ++i)
{
   <field.name>_[i] = buffer.<field.builtinCDRBufferReadMethod>();
\}
      <elseif(field.array&&!field.fixedSize)>
<field.name>_.deserialize(buffer);
      <elseif(!field.array)>
<field.name>_ = buffer.<field.builtinCDRBufferReadMethod>();
      <endif>
      <endif>
      }>
   }

   @Override
   public String getName()
   {
      return name;
   }

   @Override
   public void set(<context.name> from)
   {
      <context.fields:{ field |
      <if(field.builtinType)>
      <if(field.array&&field.fixedSize)>
<! TODO: Use more efficient array copy !>
for (int i = 0; i \< <field.name>_.length; ++i)
{
   <field.name>_[i] = from.<field.name>_[i];
\}
      <elseif(field.array&&!field.fixedSize)>
<field.name>_.set(from.<field.name>_);
      <elseif(!field.array)>
<field.name>_ = from.<field.name>_;
      <endif>
      <endif>
      }>
   }
}